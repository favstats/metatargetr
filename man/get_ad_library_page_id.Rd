% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_ad_library_page_id.R
\name{get_ad_library_page_id}
\alias{get_ad_library_page_id}
\title{Resolve Facebook Handles to Ad Library Page IDs}
\usage{
get_ad_library_page_id(
  handles,
  wait_sec = 8,
  max_retries = 1,
  country = "ALL",
  quiet = FALSE
)
}
\arguments{
\item{handles}{Character vector of Facebook handles, profile URLs,
profile transparency URLs, Ad Library URLs, or numeric page IDs.}

\item{wait_sec}{Numeric. Seconds to wait after each page navigation
before extracting content. Default is \code{8}.}

\item{max_retries}{Integer. Number of retries per handle when extraction
fails. Default is \code{1}.}

\item{country}{Character. Country code used when constructing
\code{ad_library_url} output (default \code{"ALL"}).}

\item{quiet}{Logical. If \code{TRUE}, suppresses progress messages.}
}
\value{
A tibble with one row per input and columns:
\describe{
\item{input}{Original input value.}
\item{handle}{Normalized handle or numeric ID extracted from input.}
\item{page_id}{Resolved Ad Library page ID (same as \code{view_all_page_id}).}
\item{ad_library_page_id}{Alias of \code{page_id} for clarity.}
\item{is_running_ads}{Logical/\code{NA}: whether transparency text indicates
the page is currently running ads.}
\item{transparency_url}{Profile transparency URL used for extraction.}
\item{ad_library_url}{Convenience Ad Library page URL for the resolved ID.}
\item{ok}{Logical success flag for each input.}
\item{error}{Error message when resolution fails.}
}
}
\description{
Translates Facebook page handles (or profile URLs) into the numeric
Ad Library page identifier used as \code{view_all_page_id} in
\verb{https://www.facebook.com/ads/library/} URLs.
}
\details{
The function loads each page's \strong{Profile Transparency} tab in a headless
browser and extracts the \verb{Page ID} from rendered text.
}
\examples{
# Numeric IDs are returned directly (no browser needed)
get_ad_library_page_id(c("121264564551002", "106359662726593"))

\dontrun{
# Resolve from handles / URLs
get_ad_library_page_id(c("VVD", "https://www.facebook.com/TeachGoldenApple/"))
}
}
