<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fetch a Google Ads Transparency Report — get_ggl_ads • metatargetr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fetch a Google Ads Transparency Report — get_ggl_ads"><meta name="description" content="This function automates the process of obtaining data from the Google Ads
Transparency report. It targets the main data bundle, which contains several
CSV files. The user can specify which file to process using either its full
filename or a convenient shorthand. By default, all downloaded files are
deleted after the data is read into memory."><meta property="og:description" content="This function automates the process of obtaining data from the Google Ads
Transparency report. It targets the main data bundle, which contains several
CSV files. The user can specify which file to process using either its full
filename or a convenient shorthand. By default, all downloaded files are
deleted after the data is read into memory."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metatargetr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/favstats/metatargetr" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fetch a Google Ads Transparency Report</h1>
      <small class="dont-index">Source: <a href="https://github.com/favstats/metatargetr/blob/master/R/ggl.R" class="external-link"><code>R/ggl.R</code></a></small>
      <div class="d-none name"><code>get_ggl_ads.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function automates the process of obtaining data from the Google Ads
Transparency report. It targets the main data bundle, which contains several
CSV files. The user can specify which file to process using either its full
filename or a convenient shorthand. By default, all downloaded files are
deleted after the data is read into memory.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_ggl_ads</span><span class="op">(</span>file_to_read <span class="op">=</span> <span class="st">"creatives"</span>, keep_file_at <span class="op">=</span> <span class="cn">NULL</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-file-to-read">file_to_read<a class="anchor" aria-label="anchor" href="#arg-file-to-read"></a></dt>
<dd><p>A character string specifying which CSV file to read from
the bundle, using either the full filename or a shorthand alias (e.g., <code>"creatives"</code>).
Defaults to <code>"creatives"</code>.</p></dd>


<dt id="arg-keep-file-at">keep_file_at<a class="anchor" aria-label="anchor" href="#arg-keep-file-at"></a></dt>
<dd><p>A character path to a directory where the selected CSV file
should be saved. If <code>NULL</code> (the default), all downloaded and extracted
files are deleted. If a path is provided, the function will save the
specified <code>file_to_read</code> to that location.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>A logical value. If <code>FALSE</code> (default), the function will print
status messages about downloading and processing.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> (data frame) containing the data from the selected CSV file.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Downloads the latest Google Political Ads transparency data bundle (a ZIP file),
extracts a specific CSV report, reads it into a tibble, and then cleans
up the downloaded and extracted files.</p>
<p>The data bundle contains several files. The user can specify which file to
read using a shorthand alias.</p>
<p><strong>Available Reports (Aliases):</strong></p><ul><li><p><strong><code>"creatives"</code> (Default):</strong> <code>google-political-ads-creative-stats.csv</code>. The primary and most detailed file. Contains statistics for each ad creative, including advertiser info, targeting details, and spend.</p></li>
<li><p><strong><code>"advertisers"</code>:</strong> <code>google-political-ads-advertiser-stats.csv</code>. Aggregate statistics for each political advertiser.</p></li>
<li><p><strong><code>"weekly_spend"</code>:</strong> <code>google-political-ads-advertiser-weekly-spend.csv</code>. Advertiser spending aggregated by week.</p></li>
<li><p><strong><code>"geo_spend"</code>:</strong> <code>google-political-ads-geo-spend.csv</code>. Overall spending aggregated by geographic location.</p></li>
<li><p><strong><code>"advertiser_geo_spend"</code>:</strong> <code>google-political-ads-advertiser-geo-spend.csv</code>. Advertiser-specific spending aggregated by US state.</p></li>
<li><p><strong><code>"declarations"</code>:</strong> <code>google-political-ads-advertiser-declared-stats.csv</code>. Self-declared information from advertisers in certain regions (e.g., California, New Zealand).</p></li>
<li><p><strong><code>"advertiser_mapping"</code>:</strong> <code>advertiser_id_mapping.csv</code>. A mapping file to reconcile different advertiser identifiers.</p></li>
<li><p><strong><code>"creative_mapping"</code>:</strong> <code>creative_id_mapping.csv</code>. A mapping file to reconcile different ad creative identifiers.</p></li>
<li><p><strong><code>"updated_date"</code>:</strong> <code>google-political-ads-updated.csv</code>. A single-entry file indicating the last time the report data was refreshed.</p></li>
<li><p><strong><code>"campaigns" (Deprecated):</code></strong> <code>google-political-ads-campaign-targeting.csv</code>. Ad-level targeting is now in the <code>"creatives"</code> file.</p></li>
<li><p><strong><code>"keywords" (Discontinued):</code></strong> <code>google-political-ads-top-keywords-history.csv</code>. Historical data on top keywords, terminated in Dec 2019.</p></li>
</ul><p>For more details on the specific fields in each file, please refer to the
Google Ads Transparency Report documentation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch the main creative stats report using the default alias</span></span></span>
<span class="r-in"><span><span class="va">creative_stats</span> <span class="op">&lt;-</span> <span class="fu">get_ggl_ads</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch the advertiser stats report using its alias</span></span></span>
<span class="r-in"><span><span class="va">advertiser_stats</span> <span class="op">&lt;-</span> <span class="fu">get_ggl_ads</span><span class="op">(</span>file_to_read <span class="op">=</span> <span class="st">"advertisers"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch the advertiser ID mapping file</span></span></span>
<span class="r-in"><span><span class="va">advertiser_map</span> <span class="op">&lt;-</span> <span class="fu">get_ggl_ads</span><span class="op">(</span>file_to_read <span class="op">=</span> <span class="st">"advertiser_mapping"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch the geo spend report using its full filename</span></span></span>
<span class="r-in"><span><span class="va">geo_spend_report</span> <span class="op">&lt;-</span> <span class="fu">get_ggl_ads</span><span class="op">(</span></span></span>
<span class="r-in"><span>  file_to_read <span class="op">=</span> <span class="st">"google-political-ads-geo-spend.csv"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fetch the main report and save the CSV file to a "data" folder</span></span></span>
<span class="r-in"><span><span class="va">creative_stats_saved</span> <span class="op">&lt;-</span> <span class="fu">get_ggl_ads</span><span class="op">(</span></span></span>
<span class="r-in"><span>  file_to_read <span class="op">=</span> <span class="st">"creatives"</span>,</span></span>
<span class="r-in"><span>  keep_file_at <span class="op">=</span> <span class="st">"data/"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Fabio Votta and Philipp Mendoza.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with ❤️ and pkgdown.</p>
</div>

    </footer></div>





  </body></html>

